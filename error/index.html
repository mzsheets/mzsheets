<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../data/components/globalstyle.css">
    <link rel="stylesheet" href="style.css">
    <title>Error | MZsheets</title>
</head>
<body>
    <div id="top"></div>
    <div id="main-navbar"></div>
    <div class="page-content">
        <h1 class="error-title">ERROR TITLE</h1>
        <p class="error-message">ERROR MESSAGE</p>
    </div>
    <div id="main-footer"></div>
    <script>
        // Get query parameters
        const urlParams = new URLSearchParams(window.location.search);
        const errorCode = urlParams.get('code');

        // Load the navbar
        fetch('../data/components/navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('main-navbar').innerHTML = data;
            })
            .catch(error => console.error('Error loading navbar:', error)
        );

        // Load the footer
        fetch('../data/components/footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('main-footer').innerHTML = data;
            })
            .catch(error => console.error('Error loading footer:', error)
        );

        const errors = {
            400: {
                title: 'Bad Request',
                message: 'The request could not be understood by the server due to malformed syntax.'
            },
            401: {
                title: 'Unauthorized',
                message: 'The request requires user authentication.'
            },
            403: {
                title: 'Forbidden',
                message: 'The server understood the request, but is refusing to fulfill it.'
            },
            404: {
                title: 'Not Found',
                message: 'The server has not found anything matching the request URI.'
            },
            500: {
                title: 'Internal Server Error',
                message: 'The server encountered an unexpected condition which prevented it from fulfilling the request.'
            }
        };

        // Get the error title and message if applicable
        const errorTitle = errors[errorCode] ? errors[errorCode].title : 'Unknown Error';
        const errorMessage = errors[errorCode] ? errors[errorCode].message : 'An unknown error occurred.';

        // Load the error message
        document.querySelector('.error-title').innerText = errorTitle;
        document.querySelector('.error-message').innerText = errorMessage;
    </script>
</body>
</html>